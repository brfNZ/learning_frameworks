<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Ching Reference</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .book-cover {
            width: 100px;
            height: auto;
            object-fit: cover;
            margin: 0 auto 8px;
        }
        
        .i-ching-table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .i-ching-table thead {
            background: #d1d5db;
        }
        
        .i-ching-table th {
            padding: 1rem;
            font-weight: bold;
            color: #1f2937;
            font-size: 0.875rem;
        }
        
        .i-ching-table th:first-child { text-align: left; white-space: normal; width: 70px; }
        .i-ching-table th:nth-child(2) { text-align: center; white-space: nowrap; }
        .i-ching-table th:nth-child(3) { text-align: left; white-space: nowrap; }
        .i-ching-table th:nth-child(n+4) { text-align: center; width: 128px; font-size: 0.75rem; }
        
        .i-ching-table td {
            padding: 0.75rem;
            border-bottom: 1px solid #e5e7eb;
        }
        
        .i-ching-table td:first-child { padding: 0.75rem 0.5rem; white-space: nowrap; text-align: center; }
        .i-ching-table td:nth-child(2) { padding: 0.75rem 0.5rem; font-size: 3rem; white-space: nowrap; text-align: center; }
        .i-ching-table td:nth-child(3) { padding: 0.75rem 0.75rem; white-space: nowrap; }
        
        .i-ching-table tbody tr:nth-child(even) { background: #f3f4f6; }
        .i-ching-table tbody tr:hover { background: #f9fafb; }
        
        .table-container { max-width: 100%; overflow-x: auto; }

        .i-ching-table tbody tr:hover { cursor: pointer; }
        .i-ching-table tbody tr.highlighted { 
            background: #dbeafe !important; 
            border-left: 4px solid #3b82f6;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-blue-50 to-purple-50 min-h-screen p-6">
    <div class="max-w-full mx-auto">
        <!-- Header -->
        <div class="text-center mb-8">
            <h1 class="text-4xl font-bold text-gray-800 mb-4">I Ching Reference</h1>
            <p class="text-lg text-gray-600">Complete Table of 64 Hexagrams</p>
            <a href="index.html" class="mt-4 inline-block px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Back to Divination</a>
        </div>

        <!-- Reference Table -->
        <div class="bg-white rounded-xl shadow-lg overflow-hidden">
            <div class="overflow-x-auto table-container">
                <table class="i-ching-table">
                    <thead>
                        <tr>
                            <th>Gua<br>number</th>
                            <th>Symbol</th>
                            <th>Name</th>
                            <th><img src="covers/iching.png" alt="The Book of Changes" class="book-cover">The Book of Changes</th>
                            <th><img src="covers/guide-iching.png" alt="A Guide to the I Ching" class="book-cover">A Guide to the I Ching</th>
                            <th><img src="covers/complete-iching.png" alt="The Complete I Ching.10th Ed" class="book-cover">The Complete I Ching.10th Ed</th>
                            <th><img src="covers/authentic-iching.png" alt="The Authentic I Ching" class="book-cover">The Authentic I Ching</th>
                            <th><img src="covers/iching-pt1.png" alt="I Ching Wilhelm Pt.1" class="book-cover">I Ching Pt.1</th>
                            <th><img src="covers/iching-pt2.png" alt="I Ching Wilhelm Pt.2" class="book-cover">I Ching Pt.2</th>
                            <th><img src="covers/taoist-iching.png" alt="Taoist I Ching" class="book-cover">Taoist I Ching</th>
                            <th><img src="covers/tao-organisation.png" alt="Tao of Organisation" class="book-cover">Tao of Organisation</th>
                            <th><img src="covers/astrology-iching.png" alt="Astrology of I Ching" class="book-cover">Astrology of I Ching</th>
                            <th><img src="covers/mandalas-iching.png" alt="I Ching Mandalas" class="book-cover">I Ching Mandalas</th>
                            <th><img src="covers/illustrated-iching.png" alt="The I Ching Illustrated" class="book-cover">The I Ching Illustrated</th>
                            <th><img src="covers/book12.png" alt="Book 12" class="book-cover">Book 12</th>
                        </tr>
                    </thead>
                    <tbody id="tableBody">
                        <!-- Rows generated by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

<script type="module">
        // Import shared data
        import { hexagrams, names, book1, book2, book3, book4, book5, book6, book7, book8, book9, book10, book11, book12 } from './data.js';

        // Generate full table
        const tbody = document.getElementById('tableBody');
        for (let i = 0; i < 64; i++) {
            const row = document.createElement('tr');
            row.innerHTML = `
                <td>${i + 1}</td>
                <td>${hexagrams[i]}</td>
                <td>${names[i]}</td>
                <td>${book1[i] || 'N/A'}</td>
                <td>${book2[i] || 'N/A'}</td>
                <td>${book3[i] || 'N/A'}</td>
                <td>${book4[i] || 'N/A'}</td>
                <td>${book5[i] || 'N/A'}</td>
                <td>${book6[i] || 'N/A'}</td>
                <td>${book7[i] || 'N/A'}</td>
                <td>${book8[i] || 'N/A'}</td>
                <td>${book9[i] || 'N/A'}</td>
                <td>${book10[i] || 'N/A'}</td>
                <td>${book11[i] || 'N/A'}</td>
                <td>${book12[i] || 'N/A'}</td>
            `;
            tbody.appendChild(row);
        }

        // Add click highlighting to reference table rows
        const table = tbody;
        if (table) {
            table.addEventListener('click', function(e) {
                const row = e.target.closest('tr');
                if (row) {
                    // Remove highlight from all rows
                    table.querySelectorAll('tr').forEach(r => r.classList.remove('highlighted'));
                    // Add highlight to clicked row
                    row.classList.add('highlighted');
                }
            });
        }
    </script>
</body>
</html>
