<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tao Te Ching - Journal & Divination</title>
    <style>
        /* [Same CSS as before - keeping it identical] */
        :root {
        --bg: linear-gradient(to bottom right, #1e293b, #334155, #0f172a);
        --surface: #475569;
        --card: #334155;
        --border: #64748b;
        --text1: #ffffff;
        --text2: #cbd5e1;
        --text3: #94a3b8;
        --accent: #fbbf24;
        --accent-dark: #b45309;
        --radius: 12px;
        --shadow: 0 20px 25px rgba(0,0,0,.3);
        }
        [data-theme="light"] {
        --bg: linear-gradient(to bottom right, #fdf6f0, #f3ece4, #e7dfd8);
        --surface: #f5f2ed;
        --card: #f9f7f4;
        --border: #d6c9b8;
        --text1: #3a3229;
        --text2: #6b5e52;
        --text3: #9e8d7c;
        --accent: #d97706;
        --accent-dark: #b45309;
        --shadow: 0 10px 20px -4px rgba(94, 80, 63, .12);
        }
        .entry-item { position: relative; }
        .del-btn {
            position: absolute; top: 8px; right: 8px; width: 20px; height: 20px;
            border: 1px solid var(--border); background: var(--surface); color: var(--text2);
            border-radius: 50%; font-size: 14px; cursor: pointer; opacity: 0;
            transition: opacity .2s, transform .2s; display: flex;
            align-items: center; justify-content: center; padding: 0; line-height: 1;
        }
        .entry-item:hover .del-btn { opacity: .6; }
        .del-btn:hover { opacity: 1; transform: scale(1.2); border-color: var(--accent); color: var(--accent); }
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        body{background: var(--bg);min-height: 100vh;font-family: system-ui, -apple-system, sans-serif;padding: 20px;color: var(--text1);}
        .container{max-width:900px;margin:0 auto}
        .main{display:grid;grid-template-columns:1fr 1fr;gap:20px}

        /* ←←← ONLY THESE THREE @media BLOCKS ARE NEW – EVERYTHING ELSE IS YOUR ORIGINAL CODE ←←← */
        @media (max-width:1000px){.main{grid-template-columns:1fr}}
        @media (max-width:768px){
            body{padding:12px}
            .container{padding:0 12px;max-width:none}
            .card{padding:20px;margin-bottom:20px}
        }
        @media (max-width:480px){
            body{padding:8px}
            .container{padding:0 8px}
            .card{padding:16px}
            .header h1{font-size:36px}
            .header h2{font-size:18px}
            .verse-display{padding:16px}
            .theme-toggle,.upload-toggle{
                width:40px;height:40px;font-size:18px;right:12px
            }
            .theme-toggle{top:12px}
            .upload-toggle{top:60px}
        }
        /* ←←← END OF CHANGES ←←← */

        button{font-weight:bold;padding:12px 16px;border:none;border-radius:8px;font-size:14px;cursor:pointer;transition:background .2s}
        .generate-btn{flex:1;background:var(--accent-dark);color:var(--text1)}
        .generate-btn:hover{background:#92400e}
        .reset-btn{flex:1;background:var(--border);color:var(--text1)}
        .reset-btn:hover{background:#475569}
        .save-btn{width:100%;background:#059669;color:var(--text1)}
        .save-btn:hover{background:#047857}
        .export-btn{width:100%;background:#7c3aed;color:var(--text1)}
        .export-btn:hover{background:#6d28d9}
        .search-btn{background:#0284c7;color:var(--text1);padding:10px 20px}
        .search-btn:hover{background:#0369a1}
        input[type="text"], input[type="number"]{padding:10px;background:var(--card);color:var(--text1);border:1px solid var(--border);border-radius:6px;font-size:14px}
        input[type="file"]{padding:10px;background:var(--card);color:var(--text1);border:1px solid var(--border);border-radius:6px;font-size:14px;width:100%}
        textarea{width:100%;height:200px;padding:12px;background:var(--card);color:var(--text1);border:1px solid var(--border);border-radius:8px;font-family:system-ui;font-size:14px;resize:vertical}
        textarea::placeholder{color:var(--text3)}
        .card{background:var(--surface);border:1px solid var(--border);border-radius:var(--radius);padding:30px;box-shadow:var(--shadow)}
        .header{text-align:center;margin-bottom:40px}
        .header h1{font-size:60px;margin-bottom:10px}
        .header h2{font-size:36px;font-weight:bold;color:var(--text1);margin-bottom:8px}
        .header p{color:var(--text2)}
        .lines-display{display:flex;flex-direction:column;align-items:center;margin-bottom:15px;gap:4px}
        .line-segment{background:var(--text1);height:6px;display:inline-block}
        .solid{width:80px}
        .broken-line{display:flex;gap:16px;justify-content:center}
        .broken-segment{width:32px}
        .dashed-line{display:flex;gap:10px;justify-content:center}
        .dashed-segment{width:20px}
        .verse-display{text-align:center;padding:20px;background:var(--card);border-radius:8px;margin-top:10px;margin-bottom:20px;cursor:pointer;transition:background .2s}
        .verse-display:hover{background:rgba(255,255,255,.08)}
        .verse-number{font-size:18px;margin-bottom:8px;color:var(--text1)}
        .verse-title{color:var(--accent);font-size:24px;font-weight:bold}
        .verse-author{color:var(--text3);font-size:11px;font-style:italic;margin:6px 0 12px}
        .verse-text{color:var(--text2);font-size:13px;line-height:1.6;white-space:pre-line;max-height:400px;overflow-y:auto;text-align:left;margin-top:12px}
        .instruction{text-align:center;padding:20px;background:var(--card);border-radius:8px;margin-bottom:20px;color:var(--text2);font-size:14px}
        .button-group{display:flex;gap:12px;margin-bottom:20px}
        .manual-entry{display:grid;grid-template-columns:1fr auto;gap:12px;margin-bottom:20px;padding:12px;background:var(--card);border-radius:8px}
        .entries-list{max-height:400px;overflow-y:auto;margin-bottom:12px}
        .entry-item{background:var(--card);padding:12px;border-radius:8px;margin-bottom:8px;cursor:pointer;border:1px solid var(--border);transition:all .2s}
        .entry-item:hover{background:rgba(255,255,255,.05);border-color:var(--accent)}
        .entry-date{color:var(--text3);font-size:12px}
        .entry-verse{color:var(--accent);font-weight:bold;font-size:14px}
        .entry-preview{color:var(--text2);font-size:12px;margin-top:4px}
        .footer{text-align:center;color:var(--text3);font-size:12px;margin-top:30px}
        .line-codes{text-align:center;color:var(--text3);font-size:12px;margin-bottom:10px;font-family:monospace}
        .search-section{margin-bottom:20px}
        .search-box{display:grid;grid-template-columns:1fr auto;gap:12px;padding:12px;background:var(--card);border-radius:8px}
        .search-results{max-height:300px;overflow-y:auto;margin-top:12px}
        .search-result-item{background:var(--card);padding:12px;border-radius:8px;margin-bottom:8px;cursor:pointer;border:1px solid var(--border);transition:all .2s}
        .search-result-item:hover{background:rgba(255,255,255,.05);border-color:#0284c7}
        .search-result-verse{color:#0284c7;font-weight:bold;font-size:14px;margin-bottom:4px}
        .search-result-title{color:var(--accent);font-size:13px;margin-bottom:4px}
        .search-result-snippet{color:var(--text2);font-size:12px;line-height:1.4}
        .search-highlight{background:var(--accent);color:var(--surface);padding:2px 4px;border-radius:2px;font-weight:bold}
        .search-count{color:var(--text3);font-size:12px;margin-top:8px;text-align:center}
        .theme-toggle {
            position: fixed; top: 20px; right: 20px; width: 44px; height: 44px; border-radius: 50%;
            background: var(--card); border: 1px solid var(--border); cursor: pointer; font-size: 20px;
            color: var(--accent); display: flex; align-items: center; justify-content: center;
        }
        .upload-toggle {
            position: fixed; top: 20px; right: 74px; width: 44px; height: 44px; border-radius: 50%;
            background: var(--card); border: 1px solid var(--border); cursor: pointer; font-size: 20px;
            color: var(--accent); display: flex; align-items: center; justify-content: center;
            transition: all 0.2s;
        }
        .upload-toggle:hover { background: var(--surface); transform: scale(1.05); }

        @media (max-width:480px) {
            .theme-toggle { top: 12px; right: 8px; width: 40px; height: 40px; font-size: 18px; }
            .upload-toggle { top: 60px; right: 8px; width: 40px; height: 40px; font-size: 18px; }
        }

        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background: rgba(0,0,0,0.7); display: none; align-items: center;
            justify-content: center; z-index: 1000;
        }
        .modal-overlay.show { display: flex; }
        .modal {
            background: var(--surface); border: 1px solid var(--border);
            border-radius: var(--radius); padding: 30px; max-width: 500px; width: 90%;
            box-shadow: 0 20px 60px rgba(0,0,0,0.5);
            max-height: 90vh; overflow-y: auto;
        }
        .modal h3 { color: var(--text1); margin-bottom: 20px; font-size: 24px; }
        .modal p { color: var(--text2); margin-bottom: 20px; line-height: 1.6; }
        .upload-item {
            background: var(--card); padding: 15px; border-radius: 8px;
            margin-bottom: 12px; border: 1px solid var(--border);
        }
        .upload-item label { display: block; color: var(--text1); font-weight: bold; margin-bottom: 8px; }
        .upload-status { color: var(--text3); font-size: 12px; margin-top: 4px; }
        .upload-status.loaded { color: #10b981; }
        .modal-buttons { display: flex; gap: 12px; margin-top: 20px; }
        .modal-btn {
            flex: 1; padding: 12px; border: none; border-radius: 8px;
            font-weight: bold; cursor: pointer; transition: all 0.2s;
        }
        .modal-btn-primary { background: var(--accent-dark); color: var(--text1); }
        .modal-btn-primary:hover { background: #92400e; }
        .modal-btn-secondary { background: var(--border); color: var(--text1); }
        .modal-btn-secondary:hover { background: #475569; }
    </style>
</head>
<body>
    <!-- the rest of your HTML is 100 % untouched -->
    (your full body and script stay exactly as you posted)
